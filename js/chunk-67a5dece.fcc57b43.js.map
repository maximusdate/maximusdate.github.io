{"version":3,"sources":["webpack:///src/views/dashboard/pages/admin/EditUserRoles.vue","webpack:///./src/views/dashboard/pages/admin/EditUserRoles.vue?5825","webpack:///./src/views/dashboard/pages/admin/EditUserRoles.vue?7f21","webpack:///./src/views/dashboard/pages/admin/EditUserRoles.vue","webpack:///./src/views/dashboard/pages/admin/EditUserRoles.vue?75d3"],"names":["name","methods","role","addUserRole","this","id","res","loadUser","error","prettyText","removeUserRole","userData","user","JSON","parse","data","toString","userRoles","roles","$","removeClass","$route","params","roleList","allRoles","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","email","attrs","_l","description","on","$event","removeRoleFromUser","addRoleToUser","staticRenderFns","component"],"mappings":"+KA0De,QACbA,KAAM,gBACNC,QAAS,CACP,cAAcC,GACZ,OAAWC,YAAYC,KAAKC,GAAIH,EAAOI,IACrC,eAAa,UAAW,yCAA2CJ,GACnEE,KAAKG,YACHC,IACF,eAAa,QAASA,EAAMC,eAGhC,mBAAmBP,GACjB,OAAWQ,eAAeN,KAAKC,GAAIH,EAAOI,IACxC,eAAa,UAAW,yCAA2CJ,GACnEE,KAAKG,YACHC,IACF,eAAa,QAASA,EAAMC,eAGhC,WACE,OAAWE,SAASP,KAAKC,GAAKC,IAC5BF,KAAKQ,KAAOC,KAAKC,MAAMR,EAAIS,KAAKC,YAChCZ,KAAKa,UAAYb,KAAKQ,KAAKM,MAC3BC,EAAE,WAAWC,YAAY,cAI/B,UACEhB,KAAKC,GAAKD,KAAKiB,OAAOC,OAAOjB,GAC7BD,KAAKG,WACL,OAAWgB,SAAUjB,IACnBF,KAAKoB,SAAWX,KAAKC,MAAMR,EAAIS,KAAKC,YAAYE,SAGpDH,KAAM,KACG,CACLV,IAAK,EACLO,KAAM,GACNK,UAAW,GACXO,SAAU,Q,wFCjGhB,IAAIC,EAAS,WAAa,IAAIC,EAAItB,KAASuB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,UAAU,CAACL,EAAIM,GAAG,6BAA6BN,EAAIO,GAAGP,EAAId,KAAKsB,OAAO,OAAOL,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,aAAaI,MAAM,CAAC,GAAK,iBAAiB,KAAO,YAAYT,EAAIU,GAAIV,EAAa,WAAE,SAASxB,GAAM,OAAO2B,EAAG,IAAI,CAACE,YAAY,yCAAyCI,MAAM,CAAC,GAAKjC,EAAKF,KAAK,cAAc,OAAO,KAAO,cAAgBE,EAAKF,KAAK,KAAO,MAAM,gBAAgBE,EAAKF,OAAO,CAAC0B,EAAIM,GAAGN,EAAIO,GAAG/B,EAAKF,YAAW,KAAK6B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAcI,MAAM,CAAC,GAAK,kBAAkBT,EAAIU,GAAIV,EAAY,UAAE,SAASxB,GAAM,OAAO2B,EAAG,MAAM,CAACE,YAAY,mBAAmBI,MAAM,CAAC,GAAK,aAAejC,EAAKF,KAAK,KAAO,WAAW,kBAAkB,aAAeE,EAAKF,KAAM,UAAU,CAAC0B,EAAIM,GAAG,IAAIN,EAAIO,GAAG/B,EAAKmC,aAAa,KAAKR,EAAG,MAAMA,EAAG,SAAS,CAACE,YAAY,sBAAsBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,mBAAmBtC,EAAKF,SAAS,CAAC0B,EAAIM,GAAG,2CAA0C,SAASH,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,UAAU,CAACL,EAAIM,GAAG,wBAAwBH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,aAAaI,MAAM,CAAC,GAAK,YAAY,KAAO,YAAYT,EAAIU,GAAIV,EAAY,UAAE,SAASxB,GAAM,OAAO2B,EAAG,IAAI,CAACE,YAAY,yCAAyCI,MAAM,CAAC,GAAKjC,EAAKF,KAAK,cAAc,OAAO,KAAO,SAAWE,EAAKF,KAAK,KAAO,MAAM,gBAAgBE,EAAKF,OAAO,CAAC0B,EAAIM,GAAGN,EAAIO,GAAG/B,EAAKF,YAAW,KAAK6B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAcI,MAAM,CAAC,GAAK,wBAAwBT,EAAIU,GAAIV,EAAY,UAAE,SAASxB,GAAM,OAAO2B,EAAG,MAAM,CAACE,YAAY,mBAAmBI,MAAM,CAAC,GAAK,QAAUjC,EAAKF,KAAK,KAAO,WAAW,kBAAkB,QAAUE,EAAKF,KAAM,UAAU,CAAC0B,EAAIM,GAAG,IAAIN,EAAIO,GAAG/B,EAAKmC,aAAa,KAAKR,EAAG,MAAMA,EAAG,SAAS,CAACE,YAAY,sBAAsBO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIe,cAAcvC,EAAKF,SAAS,CAAC0B,EAAIM,GAAG,wCAAuC,YAC/jEU,EAAkB,G,YCDkM,S,wBCQpNC,EAAY,eACd,EACAlB,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf","file":"js/chunk-67a5dece.fcc57b43.js","sourcesContent":["<template>\r\n  <div class=\"context\">\r\n    <div class=\"content\">\r\n      <h3 class=\"header\">Список групп пользователя {{ user.email }}:</h3>\r\n      <div class=\"row active show\">\r\n        <div>\r\n          <div class=\"list-group\" id=\"list-user-role\" role=\"tablist\">\r\n            <a v-for=\"role in userRoles\" class=\"list-group-item list-group-item-action\" :id=\"role.name\"\r\n               data-toggle=\"list\" :href=\"'#list-user-' + role.name\" role=\"tab\" :aria-controls=\"role.name\">{{\r\n                role.name\r\n              }}</a>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"tab-content\" id=\"nav-user-role\">\r\n            <div v-for=\"role in allRoles\" class=\"tab-pane fade m2\" :id=\"'list-user-' + role.name\" role=\"tabpanel\"\r\n                 :aria-labelledby=\"'list-user-' + role.name +'-list'\">\r\n              {{ role.description }}\r\n              <br>\r\n              <button v-on:click=\"removeRoleFromUser(role.name)\" class=\"btn btn-primary m-2\">Забрать эту роль у\r\n                пользователя\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <h3 class=\"header\">Список всех групп:</h3>\r\n      <div class=\"row active show\">\r\n        <div>\r\n          <div class=\"list-group\" id=\"list-role\" role=\"tablist\">\r\n            <a v-for=\"role in allRoles\" class=\"list-group-item list-group-item-action\" :id=\"role.name\"\r\n               data-toggle=\"list\" :href=\"'#list-' + role.name\" role=\"tab\" :aria-controls=\"role.name\">{{ role.name }}</a>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"tab-content\" id=\"nav-roleDescription\">\r\n            <div v-for=\"role in allRoles\" class=\"tab-pane fade m2\" :id=\"'list-' + role.name\" role=\"tabpanel\"\r\n                 :aria-labelledby=\"'list-' + role.name +'-list'\">\r\n              {{ role.description }}\r\n              <br>\r\n              <button v-on:click=\"addRoleToUser(role.name)\" class=\"btn btn-primary m-2\">Выдать эту роль пользователю\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/external/jquery.dataTables.min.css'\r\nimport '@/external/jquery.dataTables.min.js'\r\nimport Connection from \"@/rsocket/connection\";\r\nimport notification from \"@/notify/notification\";\r\n\r\nexport default {\r\n  name: \"EditUserRoles\",\r\n  methods: {\r\n    addRoleToUser(role) {\r\n      Connection.addUserRole(this.id, role, (res) => {\r\n        notification(\"success\", \"Вы успешно добавили пользователю роль \" + role);\r\n        this.loadUser();\r\n      }, (error) => {\r\n        notification(\"error\", error.prettyText);\r\n      })\r\n    },\r\n    removeRoleFromUser(role) {\r\n      Connection.removeUserRole(this.id, role, (res) => {\r\n        notification(\"success\", \"Вы успешно убрали у пользователя роль \" + role);\r\n        this.loadUser();\r\n      }, (error) => {\r\n        notification(\"error\", error.prettyText);\r\n      })\r\n    },\r\n    loadUser() {\r\n      Connection.userData(this.id, (res) => {\r\n        this.user = JSON.parse(res.data.toString());\r\n        this.userRoles = this.user.roles;\r\n        $('.active').removeClass('active');\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.id = this.$route.params.id;\r\n    this.loadUser();\r\n    Connection.roleList((res) => {\r\n      this.allRoles = JSON.parse(res.data.toString()).roles;\r\n    });\r\n  },\r\n  data: () => {\r\n    return {\r\n      id: -1,\r\n      user: [],\r\n      userRoles: [],\r\n      allRoles: []\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  box-sizing: border-box;\r\n  background: #222427;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  border-radius: 10px;\r\n  color: white;\r\n  text-align: center;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  margin-right: -15px;\r\n  margin-left: -15px;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-content: space-around;\r\n}\r\n\r\n.list-group {\r\n  width: max-content;\r\n}\r\n\r\n.show {\r\n  background-color: unset !important;\r\n  border-color: unset !important;\r\n}\r\n\r\n.list-group-item {\r\n  background-color: #2c2f33;\r\n  color: white;\r\n}\r\n\r\n.active {\r\n  background-color: #222427;\r\n  border-color: #222427;\r\n}\r\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context\"},[_c('div',{staticClass:\"content\"},[_c('h3',{staticClass:\"header\"},[_vm._v(\"Список групп пользователя \"+_vm._s(_vm.user.email)+\":\")]),_c('div',{staticClass:\"row active show\"},[_c('div',[_c('div',{staticClass:\"list-group\",attrs:{\"id\":\"list-user-role\",\"role\":\"tablist\"}},_vm._l((_vm.userRoles),function(role){return _c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"id\":role.name,\"data-toggle\":\"list\",\"href\":'#list-user-' + role.name,\"role\":\"tab\",\"aria-controls\":role.name}},[_vm._v(_vm._s(role.name))])}),0)]),_c('div',[_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"nav-user-role\"}},_vm._l((_vm.allRoles),function(role){return _c('div',{staticClass:\"tab-pane fade m2\",attrs:{\"id\":'list-user-' + role.name,\"role\":\"tabpanel\",\"aria-labelledby\":'list-user-' + role.name +'-list'}},[_vm._v(\" \"+_vm._s(role.description)+\" \"),_c('br'),_c('button',{staticClass:\"btn btn-primary m-2\",on:{\"click\":function($event){return _vm.removeRoleFromUser(role.name)}}},[_vm._v(\"Забрать эту роль у пользователя \")])])}),0)])])]),_c('div',{staticClass:\"content\"},[_c('h3',{staticClass:\"header\"},[_vm._v(\"Список всех групп:\")]),_c('div',{staticClass:\"row active show\"},[_c('div',[_c('div',{staticClass:\"list-group\",attrs:{\"id\":\"list-role\",\"role\":\"tablist\"}},_vm._l((_vm.allRoles),function(role){return _c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"id\":role.name,\"data-toggle\":\"list\",\"href\":'#list-' + role.name,\"role\":\"tab\",\"aria-controls\":role.name}},[_vm._v(_vm._s(role.name))])}),0)]),_c('div',[_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"nav-roleDescription\"}},_vm._l((_vm.allRoles),function(role){return _c('div',{staticClass:\"tab-pane fade m2\",attrs:{\"id\":'list-' + role.name,\"role\":\"tabpanel\",\"aria-labelledby\":'list-' + role.name +'-list'}},[_vm._v(\" \"+_vm._s(role.description)+\" \"),_c('br'),_c('button',{staticClass:\"btn btn-primary m-2\",on:{\"click\":function($event){return _vm.addRoleToUser(role.name)}}},[_vm._v(\"Выдать эту роль пользователю \")])])}),0)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditUserRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditUserRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditUserRoles.vue?vue&type=template&id=0290d65e&scoped=true&\"\nimport script from \"./EditUserRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./EditUserRoles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditUserRoles.vue?vue&type=style&index=0&id=0290d65e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0290d65e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditUserRoles.vue?vue&type=style&index=0&id=0290d65e&lang=scss&scoped=true&\""],"sourceRoot":""}